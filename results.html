<!DOCTYPE HTML>
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <title>Hanviken friidrott - Resultat</title>
  <link rel="icon" href="images/favicon.jpg" type="image/jpg" />
  <script type="text/javascript" src="https://www.google.com/jsapi"></script>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript" src="includes/athletics-stats.js"></script>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
  <link rel="stylesheet" href="includes/athletics-stats.css">
  <script type="text/javascript">

  var docs = 'all';
  var docList;    
  var data;
  var dataList = [];
  var bookmarkUrl;
  
  google.load('visualization', '1', { packages : [ 'corechart', 'table', 'controls' ] });
  google.charts.setOnLoadCallback(initiateData);

  function finished() {
    data.sort([{column: 11, desc: true},{column: 1}]);
    drawDashboard();
  }

  function drawDashboard() {
    var dashboard = new google.visualization.Dashboard(document.getElementById('dashboard_div'));

    var eventFilter = new google.visualization.ControlWrapper({
          'controlType': 'CategoryFilter',
          'containerId': 'event_filter',
          'options': {
            'filterColumnIndex': 0,
            'ui': {'selectedValuesLayout': 'belowStacked', 'label': ''}
          }
        });

    var nameFilter = new google.visualization.ControlWrapper({
          'controlType': 'CategoryFilter',
          'containerId': 'name_filter',
          'options': {
            'filterColumnIndex': 1,
            'ui': {'selectedValuesLayout': 'belowStacked', 'label': ''}
          }
        });
   
    var yearFilter = new google.visualization.ControlWrapper({
          'controlType': 'CategoryFilter',
          'containerId': 'year_filter',
          'options': {
            'filterColumnIndex': 2,
            'ui': {'selectedValuesLayout': 'belowStacked', 'label': ''}
          }
        });

    var classFilter = new google.visualization.ControlWrapper({
          'controlType': 'CategoryFilter',
          'containerId': 'class_filter',
          'options': {
            'filterColumnIndex': 8,
            'ui': {'selectedValuesLayout': 'belowStacked', 'label': ''}
          }
        });
        
    var competitionFilter = new google.visualization.ControlWrapper({
          'controlType': 'CategoryFilter',
          'containerId': 'competition_filter',
          'options': {
            'filterColumnIndex': 10,
            'ui': {'selectedValuesLayout': 'belowStacked', 'label': ''}
          }
        });
 
    var seasonFilter = new google.visualization.ControlWrapper({
          'controlType': 'CategoryFilter',
          'containerId': 'season_filter',
          'options': {
            'filterColumnIndex': 12,
            'ui': {'selectedValuesLayout': 'belowStacked', 'label': ''}
          }
        });

    var resultTable = new google.visualization.ChartWrapper({
          'chartType': 'Table',
          'containerId': 'table_div',
          'options': { showRowNumber: true, width: 1800, height: '100%' }
        });

    dashboard.bind([nameFilter, eventFilter,  seasonFilter, yearFilter, classFilter, competitionFilter], resultTable); 
    dashboard.draw(data);
  }

  </script>
</head>

<html>
  <body onload="menu('1','12')">
    <div id="menu"></div>
    <div class="w3-container w3-round-large w3-light-grey w3-margin">
      <div id="dashboard_div">
        <p></p>
        <table width="90%" align="center">
          <tr valign="top">
            <td>Säsong:</td><td><div id="season_filter"></div></td>
            <td>Tävling:</td><td><div id="competition_filter"></div></td>
            <td>Gren:</td><td><div id="event_filter"></div></td>
          </tr>
          <tr valign="top">
            <td>Namn:</td><td><div id="name_filter"></div></td>
            <td>Född:</td><td><div id="year_filter"></div></td>
            <td>Klass:</td><td><div id="class_filter"></div></td>
          </tr>
        </table>
        <p></p>
        <div id="bookmark_url" class="w3-tiny w3-right-align"></div>
        <div id="table_div" class="w3-center"><p><i class="fa fa-spinner w3-spin" style="font-size:64px"></i></p></div>
        <p></p>
      </div>
    </div>
  </body>
</html>
